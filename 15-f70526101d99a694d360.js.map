{"version":3,"sources":["webpack:///./src/components/AC-CategoryPage/components/SubCategoryMenu/SubCategoryMenu.jsx"],"names":["SubCategoryMenu","React","useState","showMoreOptions","setShowMoreOptions","dispatch","useDispatch","navCats","useSelector","state","menuReducer","shallowEqual","categoryParentsNameState","categoryReducer","parents","handleCategoryChange","cid","cat","longdesc","category","childs","filter","c","name","includes","replace","console","info","changeCategoryName","fetchCategoryFromRender","window","location","pathname","Object","keys","length","subcategory","className","slice","map","URL","catName","key","onClick","to","PREVIEW"],"mappings":"0hCAsHeA,UA3GS,WAAO,IAAD,EACkBC,IAAMC,UAAS,GAAtDC,EADqB,KACJC,EADI,KAEtBC,EAAWC,cAEXC,EAAUC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,YAAYH,UAASI,KAE1DC,EAA2BJ,aAC/B,SAAAC,GAAK,OAAIA,EAAMI,gBAAgBC,UAC/BH,KAGII,EAAuB,SAACC,EAAKC,EAAKH,EAASI,GAC/C,IAAMC,EAAWZ,EAAQa,OAAOC,QAAO,SAAAC,GACrC,IAAIC,EAAOD,EAAEC,KAKb,OAJIA,EAAKC,SAAS,WAChBD,EAAOA,EAAKE,QAAQ,QAAS,MAGxBF,IAASN,KACf,GAEHS,QAAQC,KAAK,mBAAoBX,EAAKC,EAAKH,EAASK,GAEpDd,EAASuB,YAAmBX,EAAKH,EAASI,IAC1Cb,EAASwB,YAAwBb,EAAKC,EAAKH,EAAS,GAAIK,KAE1D,GAAKW,OAAOC,SAASC,SAASR,SAAS,UA6ErC,OAAO,KA5EP,GAAIS,OAAOC,KAAK3B,EAAQa,QAAQe,OAAS,EAAG,CAC1C,IAAMC,EAAc7B,EAAQa,OAC5B,OACE,yBAAKiB,UAAU,yBACb,wBAAIA,UAAU,gBAAd,cACCJ,OAAOC,KAAKE,GAAaD,OAAS,EACjC,wBAAIE,UAAU,wBACXJ,OAAOC,KAAKE,GAAaD,OAAS,GACjCC,EAAYE,MAAM,EAAG,GAAGC,KAAI,YAAmC,IAAhChB,EAA+B,EAA/BA,KAAMiB,EAAyB,EAAzBA,IAAKxB,EAAoB,EAApBA,IAAKE,EAAe,EAAfA,SAC7CsB,EAAMA,EAAIf,QAAQ,aAAc,IAChC,IAAIgB,EAAUlB,EAAKE,QAAQ,QAAS,KAChCX,EAAO,YACNF,GADM,CAET,CAAC6B,EAASzB,EAAKwB,KAGjB,OACE,wBAAIE,IAAK1B,EAAKqB,UAAU,iBACtB,kBAAC,OAAD,CACEM,QAAS,kBACP5B,EAAqBC,EAAKyB,EAAS3B,EAASI,IAE9C0B,GAAIC,IAAU,IAAML,GAEnBC,OAKVR,OAAOC,KAAKE,GAAaD,OAAS,GACjChC,GACAiC,EACGE,MAAM,EAAGF,EAAYD,QACrBI,KAAI,YAAmC,IAAhChB,EAA+B,EAA/BA,KAAMiB,EAAyB,EAAzBA,IAAKxB,EAAoB,EAApBA,IAAKE,EAAe,EAAfA,SACtBsB,EAAMA,EAAIf,QAAQ,aAAc,IAChC,IAAIgB,EAAUlB,EAAKE,QAAQ,QAAS,KAChCX,EAAO,YAAOF,GAAP,CAAiC,CAAC6B,EAASzB,KAEtD,OACE,wBAAI0B,IAAK1B,EAAKqB,UAAU,iBACtB,kBAAC,OAAD,CACEM,QAAS,kBACP5B,EACEC,EACAyB,EACA3B,EACAI,IAGJ0B,GAAIC,IAAU,IAAML,GAEnBC,QAMb,KAEHR,OAAOC,KAAKE,GAAaD,OAAS,EACjC,4BACEE,UAAU,+BACVM,QAAS,kBAAMvC,GAAoBD,KAElCA,EAAkB,UAAY,UAC/B,uBAAGkC,UAAU,6CACVlC,EAAe,4CAGlB,MAIR,OAAO","file":"15-f70526101d99a694d360.js","sourcesContent":["import React from \"react\"\r\nimport { useSelector, shallowEqual, useDispatch } from \"react-redux\"\r\nimport { Link } from \"gatsby\"\r\nimport { PREVIEW } from \"../../../../project-config.js\"\r\nimport { Button } from \"@material-ui/core\"\r\n\r\nimport {\r\n  fetchCategoryFromRender,\r\n  changeCategoryName,\r\n} from \"../../../../redux/actions/categoryActions\"\r\n\r\nconst SubCategoryMenu = () => {\r\n  const [showMoreOptions, setShowMoreOptions] = React.useState(false)\r\n  const dispatch = useDispatch()\r\n\r\n  const navCats = useSelector(state => state.menuReducer.navCats, shallowEqual)\r\n\r\n  const categoryParentsNameState = useSelector(\r\n    state => state.categoryReducer.parents,\r\n    shallowEqual\r\n  )\r\n\r\n  const handleCategoryChange = (cid, cat, parents, longdesc) => {\r\n    const category = navCats.childs.filter(c => {\r\n      let name = c.name\r\n      if (name.includes(\"&amp;\")) {\r\n        name = name.replace(\"&amp;\", \"&\")\r\n      }\r\n\r\n      return name === cat\r\n    })[0]\r\n\r\n    console.info(\"handleCatChange2\", cid, cat, parents, category)\r\n\r\n    dispatch(changeCategoryName(cat, parents, longdesc))\r\n    dispatch(fetchCategoryFromRender(cid, cat, parents, \"\", category))\r\n  }\r\n  if (!window.location.pathname.includes(\"search\")) {\r\n    if (Object.keys(navCats.childs).length > 0) {\r\n      const subcategory = navCats.childs\r\n      return (\r\n        <div className=\"subcategory-container\">\r\n          <h4 className=\"widget-title\">Categories</h4>\r\n          {Object.keys(subcategory).length > 0 ? (\r\n            <ul className=\"category-childs-list\">\r\n              {Object.keys(subcategory).length > 0 &&\r\n                subcategory.slice(0, 5).map(({ name, URL, cid, longdesc }) => {\r\n                  URL = URL.replace(\"SLighting/\", \"\")\r\n                  let catName = name.replace(\"&amp;\", \"&\")\r\n                  let parents = [\r\n                    ...categoryParentsNameState,\r\n                    [catName, cid, URL],\r\n                  ]\r\n\r\n                  return (\r\n                    <li key={cid} className=\"sub-menu-list\">\r\n                      <Link\r\n                        onClick={() =>\r\n                          handleCategoryChange(cid, catName, parents, longdesc)\r\n                        }\r\n                        to={PREVIEW + \"/\" + URL}\r\n                      >\r\n                        {catName}\r\n                      </Link>\r\n                    </li>\r\n                  )\r\n                })}\r\n              {Object.keys(subcategory).length > 5 &&\r\n                showMoreOptions &&\r\n                subcategory\r\n                  .slice(5, subcategory.length)\r\n                  .map(({ name, URL, cid, longdesc }) => {\r\n                    URL = URL.replace(\"SLighting/\", \"\")\r\n                    let catName = name.replace(\"&amp;\", \"&\")\r\n                    let parents = [...categoryParentsNameState, [catName, cid]]\r\n\r\n                    return (\r\n                      <li key={cid} className=\"sub-menu-list\">\r\n                        <Link\r\n                          onClick={() =>\r\n                            handleCategoryChange(\r\n                              cid,\r\n                              catName,\r\n                              parents,\r\n                              longdesc\r\n                            )\r\n                          }\r\n                          to={PREVIEW + \"/\" + URL}\r\n                        >\r\n                          {catName}\r\n                        </Link>\r\n                      </li>\r\n                    )\r\n                  })}\r\n            </ul>\r\n          ) : null}\r\n\r\n          {Object.keys(subcategory).length > 5 ? (\r\n            <button\r\n              className=\"subcategory-show-more-button\"\r\n              onClick={() => setShowMoreOptions(!showMoreOptions)}\r\n            >\r\n              {showMoreOptions ? \"LESS...\" : \"MORE...\"}\r\n              <i className=\"material-icons subcategory-show-more-icon\">\r\n                {showMoreOptions ? `keyboard_arrow_up` : `keyboard_arrow_down`}\r\n              </i>\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n      )\r\n    } else {\r\n      return null\r\n    }\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default SubCategoryMenu\r\n"],"sourceRoot":""}